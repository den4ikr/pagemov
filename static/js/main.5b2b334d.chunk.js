(this["webpackJsonpmovie-pat"]=this["webpackJsonpmovie-pat"]||[]).push([[0],{127:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(11),i=n.n(c),s=(n(98),n(9)),o=(n(99),n(159)),u=n(161),l=n(162),f=n(34),j=n(156),d=Object(j.a)((function(){return{link:{color:"#fff",paddingLeft:15,textDecoration:"none"}}})),p=n(2),b=function(){var e=d();return Object(p.jsx)(o.a,{position:"static",children:Object(p.jsx)(u.a,{children:Object(p.jsxs)(l.a,{variant:"h6",children:[Object(p.jsx)(f.b,{className:e.link,to:"/pagemov",children:"Movie DB"}),Object(p.jsx)(f.b,{className:e.link,to:"/favorite",children:"Favorite"})]})})})},h=n(16),g=n(163),O=n(164),m=n(165),v=n(166),x=n(84),w=n.n(x),y=n(83),S=n.n(y),F=Object(j.a)((function(){return{card:{width:320,minHeight:500,marginTop:25},poster:{width:300,height:400,margin:"0 auto",marginTop:10},subRow:{display:"flex",alignItems:"center",justifyContent:"space-between"},addIcon:{hover:{cursor:"pointer"}},genre:{fontSize:12}}})),k=n(10),N=n.n(k),_=n(19),C="SET_POPULAR_FILMS",E="SET_GENRES",I="SET_RESULT",T="SET_FILM_PAGE_DATA",R="SET_RECOMMENDATIONS",D="SET_FAVORITE",P="ADD_FAVORITE",A="REMOVE_FAVORITE",L="SET_IS_FAVORITE",U=n(46),G=function(){return JSON.parse(localStorage.getItem("favourites"))||[]},M=function(e){return!!G().find((function(t){return t.id===e}))},W=function(){var e=Object(_.a)(N.a.mark((function e(t){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=G(),r=[t].concat(Object(U.a)(n)),e.next=4,localStorage.setItem("favourites",JSON.stringify(r));case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(_.a)(N.a.mark((function e(t){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=G(),r=n.filter((function(e){return e.id!==t})),e.next=4,localStorage.setItem("favourites",JSON.stringify(r));case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e){return{type:P,item:e}},V=function(e){return function(){var t=Object(_.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(e);case 2:n(J(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},z=function(e){return{type:A,id:e}},q=function(e){return{type:L,id:e}},H=function(e){return function(){var t=Object(_.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(e);case 2:n(q(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},K=function(e){var t=e.film,n=e.genres,r=Object(h.b)(),a=F(),c=M(t.id),i=[];if(t.genre_ids)for(var s=0;s<t.genre_ids.length;s++)for(var o=0;o<n.length;o++)t.genre_ids[s]===n[o].id&&i.push(n[o].name);return Object(p.jsxs)(g.a,{className:a.card,children:[Object(p.jsx)(f.b,{to:"/filmpage/".concat(t.id),children:Object(p.jsx)(O.a,{className:a.poster,alt:"Poster",image:"https://image.tmdb.org/t/p/w300".concat(t.poster_path)})}),Object(p.jsxs)(m.a,{children:[Object(p.jsxs)("div",{className:a.subRow,children:[Object(p.jsx)(l.a,{className:a.title,children:t.title}),c?Object(p.jsx)(v.a,{onClick:function(){var e;r((e=t.id,function(){var t=Object(_.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e);case 2:n(z(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),r(H(t.id))},children:Object(p.jsx)(S.a,{})}):Object(p.jsx)(v.a,{onClick:function(){r(V(t)),r(H(t.id))},children:Object(p.jsx)(w.a,{className:a.addIcon})})]}),Object(p.jsxs)(l.a,{className:a.genre,children:["Genres: ",i.map((function(e,t){return e})).join(",")]})]})]})},Q=Object(j.a)((function(){return{row:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},epmtyList:{textAlign:"center",paddingTop:100}}})),X=function(e){var t=e.favorite,n=e.genres,r=Q();return Object(p.jsx)("div",{children:t.length>0?Object(p.jsx)("div",{className:r.row,children:t.map((function(e){return Object(p.jsx)(K,{film:e,genres:n},e.id)}))}):Object(p.jsx)("div",{className:r.epmtyList,children:Object(p.jsx)(l.a,{variant:"h3",children:"List is empty"})})})},Y=n(85),Z=n.n(Y).a.create({baseURL:"https://api.themoviedb.org/3/"}),$=function(e){return Z.get("movie/top_rated?api_key=59b515f14ca7817fa52949d84c435157&language=en-US&page=".concat(e))},ee=function(){return Z.get("genre/movie/list?api_key=59b515f14ca7817fa52949d84c435157&language=en-US")},te=function(e){return Z.get("search/movie?api_key=59b515f14ca7817fa52949d84c435157&language=en-US&query=".concat(e,"&page=1&include_adult=false"))},ne=function(e){return Z.get("movie/".concat(e,"?api_key=59b515f14ca7817fa52949d84c435157&language=en-US"))},re=function(e){return Z.get("movie/".concat(e,"/recommendations?api_key=59b515f14ca7817fa52949d84c435157&language=en-US&page=1"))},ae=function(e){return function(){var t=Object(_.a)(N.a.mark((function t(n){var r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(e);case 2:r=t.sent,n((a=r.data,{type:C,popularFilms:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},ce=function(){return function(){var e=Object(_.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:n=e.sent,t((r=n.data.genres,{type:E,genres:r}));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},ie=function(e){var t=Object(h.b)(),n=Object(h.c)((function(e){return e.popular.genres})),a=Object(h.c)((function(e){return e.favorite.favorite}));return Object(r.useEffect)((function(){t(ce()),t(function(){var e=Object(_.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:n=e.sent,t({type:D,favorite:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(p.jsx)(X,{favorite:a,genres:n})},se=n(61),oe=n(169),ue=function(e){return Object(p.jsx)("div",{children:Object(p.jsx)(oe.a,{count:e.count,page:e.page,onChange:e.hadleChange})})},le=n.p+"static/media/loadinggif.5bea0438.gif",fe=Object(j.a)((function(){return{loadingGif:{display:"flex",justifyContent:"center",alignItems:"center"}}})),je=function(){var e=fe();return Object(p.jsx)("div",{className:e.loadingGif,children:Object(p.jsx)("img",{src:le,alt:"Loading Gif"})})},de=n(168),pe=function(e){return Object(p.jsx)("div",{children:Object(p.jsx)(de.a,{onKeyPress:e.onSearch,onChange:e.onSearchChange,id:"standard-basic",label:e.label,fullWidth:!0,value:e.search})})},be=Object(j.a)((function(){return{row:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},paginator:{display:"flex",justifyContent:"center",marginTop:50,marginBottom:50}}})),he=function(e){var t=be();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(pe,{search:e.search,onSearchChange:e.onSearchChange,onSearch:e.onSearch,label:"Enter a movie"}),0===e.searchResult.length?Object(p.jsx)("div",{children:e.popularFilms.results?Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:t.row,children:e.popularFilms.results.map((function(t,n){return Object(p.jsx)("div",{children:Object(p.jsx)(K,{film:t,genres:e.genres})},t.id)}))}),Object(p.jsx)("div",{className:t.paginator,children:Object(p.jsx)(ue,{count:e.popularFilms.total_pages,page:e.page,hadleChange:e.hadleChange})})]}):Object(p.jsx)(je,{})}):Object(p.jsx)("div",{className:t.row,children:e.searchResult.results.map((function(t){return Object(p.jsx)("div",{children:Object(p.jsx)(K,{film:t,genres:e.genres},t.id)})}))})]})},ge=function(){var e=Object(h.b)(),t=Object(r.useState)(1),n=Object(se.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(""),s=Object(se.a)(i,2),o=s[0],u=s[1],l=Object(h.c)((function(e){return e.popular.popularFilms})),f=Object(h.c)((function(e){return e.popular.genres})),j=Object(h.c)((function(e){return e.search.result}));Object(h.c)((function(e){return e.favorite.isFavorite}));Object(r.useEffect)((function(){e(ae(a)),e(ce())}),[]);return Object(p.jsx)(he,{popularFilms:l,genres:f,page:a,hadleChange:function(t,n){c(n),e(ae(n)),window.scroll(0,0)},search:o,onSearchChange:function(e){u(e.target.value)},onSearch:function(t){var n;"Enter"===t.key&&(e((n=o,function(){var e=Object(_.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(n);case 2:r=e.sent,t((a=r.data,{type:I,result:a}));case 4:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}())),u(""))},searchResult:j})},Oe=n(167),me=Object(j.a)((function(){return{posterbg:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column","&:after":{content:'""',width:"100%",height:"100%",backgroundColor:"black",position:"absolute",opacity:"0.5",top:0,left:0}},title:{color:"#fff",zIndex:2,position:"relative",padding:"0px 10px 0px 10px",textAlign:"center",fontSize:30},container:{maxWidth:1e3,margin:"0 auto"},cardRow:{display:"flex",justifyContent:"space-between"},overview:{maxWidth:600},recommendationRow:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},recTitlte:{textAlign:"center",paddingTop:50},"@media (max-width: 700px)":{cardRow:{flexDirection:"column"},overview:{paddingTop:25}}}})),ve=function(e){var t=e.filmPageData,n=e.recommendations,a=e.genres,c=e.addFavoriteFilm,i=me(),s="https://image.tmdb.org/t/p/original/".concat(t.backdrop_path),o=M(t.id);return Object(r.useEffect)((function(){window.scroll(0,0)}),[]),Object(p.jsx)(p.Fragment,{children:Object.keys(t).length>0?Object(p.jsx)("div",{children:Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:i.posterbg,style:{backgroundImage:"url(".concat(s,")"),width:"100%",height:"780px",backgroundRepeat:"no-repeat",margin:"0 auto",marginBottom:"100px",backgroundPosition:"50% 50%"},children:Object(p.jsx)(l.a,{className:i.title,children:t.title})}),Object(p.jsxs)("div",{className:i.container,children:[Object(p.jsx)(g.a,{children:Object(p.jsx)(m.a,{children:Object(p.jsxs)("div",{className:i.cardRow,children:[Object(p.jsxs)("div",{className:i.info,children:[Object(p.jsxs)(l.a,{children:["Genres:"," ",t.genres.map((function(e){return e.name})).join(",")]}),Object(p.jsxs)(l.a,{children:["Original language: ",t.original_language]}),Object(p.jsxs)(l.a,{children:["Popuilarity: ",t.popularity]}),Object(p.jsxs)(l.a,{children:["Release date: ",t.release_date]}),o?Object(p.jsx)(l.a,{color:"primary",children:"Film added to favorite list"}):Object(p.jsx)(Oe.a,{variant:"contained",color:"primary",onClick:c,children:"Add to favorite"})]}),Object(p.jsx)("div",{className:i.overview,children:Object(p.jsx)(l.a,{className:i.overview,children:t.overview})})]})})}),n.length>0&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:i.recTitlte,children:Object(p.jsx)(l.a,{variant:"h4",children:"Recommendation"})}),Object(p.jsx)("div",{className:i.recommendationRow,children:n.map((function(e){return Object(p.jsx)(K,{film:e,genres:a},e.id)}))})]})]})]})}):Object(p.jsx)(je,{})})},xe=Object(s.e)((function(e){var t=e.match.params.movieId,n=Object(h.b)(),a=Object(h.c)((function(e){return e.filmPageData.filmPageData})),c=Object(h.c)((function(e){return e.filmPageData.recommendations})),i=Object(h.c)((function(e){return e.popular.genres})),s=Object(h.c)((function(e){return e.favorite.isFavorite}));Object(r.useEffect)((function(){var e;n((e=t,function(){var t=Object(_.a)(N.a.mark((function t(n){var r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne(e);case 2:r=t.sent,n((a=r.data,{type:T,filmPageData:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}())),n(function(e){return function(){var t=Object(_.a)(N.a.mark((function t(n){var r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re(e);case 2:r=t.sent,n((a=r.data.results,{type:R,recommendations:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)),n(ce())}),[]);return Object(p.jsx)(ve,{filmPageData:a,recommendations:c,genres:i,addFavoriteFilm:function(){n(V(a)),n(H(a.id))},isFavorite:s})}));var we=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(b,{}),Object(p.jsx)(s.a,{path:"/filmpage/:movieId",render:function(){return Object(p.jsx)(xe,{})}}),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(s.a,{path:"/pagemov",render:function(){return Object(p.jsx)(ge,{})}}),Object(p.jsx)(s.a,{path:"/favorite",render:function(){return Object(p.jsx)(ie,{})}})]})]})},ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,170)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},Se=n(41),Fe=n(14),ke={popularFilms:[],genres:[]},Ne=n(86),_e={result:[]},Ce={filmPageData:{},recommendations:[]},Ee={favorite:[],isFavorite:!1},Ie=Object(Se.c)({popular:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(Fe.a)(Object(Fe.a)({},e),{},{popularFilms:t.popularFilms});case E:return Object(Fe.a)(Object(Fe.a)({},e),{},{genres:t.genres});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(Fe.a)(Object(Fe.a)({},e),{},{result:t.result});default:return e}},filmPageData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(Fe.a)(Object(Fe.a)({},e),{},{filmPageData:t.filmPageData});case R:return Object(Fe.a)(Object(Fe.a)({},e),{},{recommendations:t.recommendations});default:return e}},favorite:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(Fe.a)(Object(Fe.a)({},e),{},{favorite:t.favorite});case P:return Object(Fe.a)(Object(Fe.a)({},e),{},{favorite:[t.item].concat(Object(U.a)(e.favorite))});case A:return Object(Fe.a)(Object(Fe.a)({},e),{},{favorite:Object(U.a)(e.favorite.filter((function(e){return e.id!==t.id})))});case L:return Object(Fe.a)(Object(Fe.a)({},e),{},{isFavorite:!e.isFavorite});default:return e}}}),Te=Object(Se.d)(Ie,Object(Se.a)(Ne.a));i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(f.a,{children:Object(p.jsx)(h.a,{store:Te,children:Object(p.jsx)(we,{})})})}),document.getElementById("root")),ye()},98:function(e,t,n){},99:function(e,t,n){}},[[127,1,2]]]);
//# sourceMappingURL=main.5b2b334d.chunk.js.map